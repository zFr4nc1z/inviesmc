let billingCountry=$("#billingCountry");if(billingCountry.length>0){$.getJSON('https://api.craftingstore.net/v4/countries',function(data){var items=[];$.each(data,function(key,val){items.push("<option value='"+key+"'>"+val+"</option>");});billingCountry.append(items);});}
function showCraftingStoreAlert(message,duration,bgColor,txtColor){const alertMessage=$('<div>').addClass('notification-message').attr('style','text-align:center;').text(message);const alertBar=$('<div>').attr('id','craftingstore-alerts').attr('style','display:none; width:100%; padding: 10px; background-color: '+bgColor+'; position: bottom; z-index: 999; color: '+txtColor+';border-bottom: 1px solid '+txtColor+';').html(alertMessage);$('body').prepend(alertBar);$('#craftingstore-alerts').slideDown(function(){if(duration!==0&&duration!==null){setTimeout(function(){$('#craftingstore-alerts').slideUp(function(){});},duration);}});}
const hostname=location.hostname;if(hostname.includes('craftingstore.net')===false){$.get('https://api.craftingstore.net/alerts/'+hostname,function(data){if(data.success===true){$.each(data.alerts,function(index,alert){showCraftingStoreAlert(alert.message,alert.timeout,alert.backgroundColor,alert.textColor);})}});}
$('.js-card-button').click(function(){let card=$('#card').val();let storeId=$('#storeId').val();if(card===''){return;}
$.getJSON('https://api.craftingstore.net/v4/giftcards/check/'+storeId+'/'+card,function(data){let success=data.success;$('#card').val('');if(success===false){$('.js-card-alert').append($('<hr>')).append($('<div>').addClass('alert').addClass('alert-danger').text('Card not found!'));}else{let amountRemaining=data.amount_remaining;$('.js-card-alert').append($('<hr>')).append($('<div>').addClass('alert').addClass('alert-success').text('Amount left on card: '+amountRemaining));}
setTimeout(function(){$('.js-card-alert').empty();},7000);});});let statusEnabled=$("#serverStatusModule").length;if(statusEnabled>0){let serverStatusIp=$('#statusServerIp').val();let serverStatusPort=$('#statusServerPort').val();let serverStatusHide=$('#serverStatusHide').val();$.ajax({url:'https://api.mcsrvstat.us/2/'+serverStatusIp+':'+serverStatusPort,success:function(data){let online=data.online;let playerCurrentCount=data.players.online;let playerMaxCount=data.players.max;updateStatus(online,playerCurrentCount,playerMaxCount);},error:function(){$.ajax({url:'https://mcapi.us/server/status?ip='+serverStatusIp+'&port='+serverStatusPort,success:function(data){let online=data.online;let playerCurrentCount=data.players.now;let playerMaxCount=data.players.max;updateStatus(online,playerCurrentCount,playerMaxCount);}});},timeout:1000});}
function updateStatus(online,current,max){let statusStatusDiv=$('.js-status-status');if(online){statusStatusDiv.empty();statusStatusDiv.append($('<span>').addClass('label').addClass('label-success').text('Online'))}else{if(serverStatusHide==='1'){statusEnabled.remove();return;}
statusStatusDiv.empty();statusStatusDiv.append($('<span>').addClass('label').addClass('label-danger').text('Offline'))}
$('.js-status-player-count').text(current+' / '+max+' players online.');}
$(function(){const supportedProviders={'cravatar.eu':'https://cravatar.eu/helmavatar/{uuid}/100.png','crafatar.com':'https://crafatar.com/avatars/{uuid}/?size=100&overlay=true','minotar.net':'https://minotar.net/helm/{uuid}/100.png',};const images=$('img');images.each(function(){const element=$(this)[0];if(element===undefined){return;}
const isLoadedCorrectly=element.complete&&element.naturalHeight!==0;if(isLoadedCorrectly===false){const src=element.src;const splittedSrc=src.split('/');const imageDomain=splittedSrc[2];if(imageDomain===undefined){return;}
if(supportedProviders[imageDomain]===undefined){return;}
const newProviderUrl=getOtherProvider(imageDomain);const uuid=splittedSrc.reduce(function(a,b){return a.length>b.length?a:b;});element.src=newProviderUrl.replace('{uuid}',uuid);}});function getOtherProvider(currentProvider){for(const[key,value]of Object.entries(supportedProviders)){if(key!==currentProvider){return value;}}
return null;}});